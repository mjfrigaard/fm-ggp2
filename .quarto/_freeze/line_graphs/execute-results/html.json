{
  "hash": "da30cf5724b3d218dcb1271b67f350c0",
  "result": {
    "markdown": "# Line graphs {.unnumbered}\n\n\n\n\n\n::: {.callout-tip appearance='simple' icon=false}\n***This graph is largely complete and just needs final proof reading.*** \n:::\n\n\n:::: {.callout-note collapse=\"false\" icon=false}\n## Graph info\n::: {style=\"font-size: 1.25em; color: #007bff;\"}\n**Should I use this graph?**\n:::\n\n<br>\n\n\n::: {.cell layout-align=\"right\"}\n::: {.cell-output-display}\n![](line_graphs_files/figure-html/full_code_display-1.png){fig-align='right' width=60% height=60%}\n:::\n:::\n\n\n::: {style=\"font-size: 1.10em; color: #007bff;\"}\n**This graph requires:**\n:::\n\n::: {style=\"font-size: 1.05em; color: #fa7b3c;\"}\n**✅ a numeric (continuous) variable**\n:::\n\n::: {style=\"font-size: 1.05em; color: #fa7b3c;\"}\n**✅ a numeric (date) variable**\n:::\n\n::::\n\n## Description \n\nLine graphs display changes of a numeric quantitative variable (on the `y` axis) over time (on the `x` axis). \n\n## Getting set up \n\n:::: {.panel-tabset}\n\n### Packages\n\n::: {style=\"font-size: 1.15em; color: #1e83c8;\"}\n**PACKAGES:**\n:::\n\n::: {style=\"font-size: 0.85em;\"}\nInstall packages.\n:::\n\n\n::: {style=\"font-size: 0.75em;\"}\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"show\"}\ninstall.packages(\"fivethirtyeight\")\nlibrary(fivethirtyeight)\nlibrary(ggplot2)\n```\n:::\n\n:::\n\n### Data\n\n::: {style=\"font-size: 1.15em; color: #1e83c8;\"}\n**DATA:**\n:::\n\n::: {.column-margin}\n![](www/538.png){fig-align=\"right\" width=\"40%\" height=\"40%\"}\n:::\n\n\n\n::: {style=\"font-size: 0.85em;\"}\nWe'll be using the `US_births_1994_2003` and `US_births_2000_2014` datasets from the `fivethirtyeight` package. \n\n  - Remove duplicate dates from `US_births_2000_2014`\n  \n  - Binding these together (they have identical columns)  \n\n  - Use `year` and `month`  to create `yr_mnth`  \n\n  - Use `year` and `quarter` to create `yr_qtr` \n  \n  - Group by yr_month to create `avg_births`, then un-group\n  \nSave as `avg_birth_ym`\n:::\n\n::: {style=\"font-size: 0.75em;\"}\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"show\"}\nUS_births_2004_2014 <-\n    filter(fivethirtyeight::US_births_2000_2014, year > 2003)\navg_birth_ym <- US_births_2004_2014 |>\n    dplyr::bind_rows(fivethirtyeight::US_births_1994_2003) |>\n    dplyr::mutate(\n        mon_chr = dplyr::if_else(\n            condition = month < 10,\n            true = paste0(\"0\", month),\n            false = as.character(month)\n        ),\n        month = lubridate::month(date, label = TRUE),\n        yr_mnth = paste0(year, \"-\", mon_chr),\n        yr_mnth = lubridate::ym(yr_mnth),\n        yr_qtr = paste0(lubridate::year(date),\n            \"/0\",\n            lubridate::quarter(date)),\n        yr_qtr = factor(yr_qtr, ordered = TRUE)\n    ) |>\n    dplyr::group_by(yr_mnth) |>\n    dplyr::summarise(avg_births = mean(births, na.rm = TRUE)) |>\n    dplyr::ungroup() \ndplyr::glimpse(avg_birth_ym)\n#> Rows: 252\n#> Columns: 2\n#> $ yr_mnth    <date> 1994-01-01, 1994-02-01, 1994-03-01, 19…\n#> $ avg_births <dbl> 10345.32, 10761.68, 10959.23, 10579.73,…\n```\n:::\n\n:::\n\n::::\n\n## The grammar\n\n:::: {.panel-tabset}\n\n### Code\n\n::: {style=\"font-size: 1.15em; color: #1e83c8;\"}\n**CODE:**\n:::\n\n::: {style=\"font-size: 0.85em;\"}\n\nCreate labels with `labs()` \n\nInitialize the graph with `ggplot()` and provide `data`\n\nMap `yr_mnth` to `x` and `avg_births` to `y`\n\nAdd `geom_line()`\n\n:::\n\n::: {style=\"font-size: 0.75em;\"}\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"show\"}\nlabs_line <- labs(title = \"Average US births\", \n                subtitle = \"1994-2014\",\n                y = \"Average number of US births\",\n                x = \"Year/Month\")\nggp2_line <- ggplot(data = avg_birth_ym,\n    mapping = aes(x = yr_mnth, y = avg_births)) + \n    geom_line()\nggp2_line + \n    labs_line\n```\n:::\n\n:::\n\n### Graph\n\n::: {style=\"font-size: 1.15em; color: #1e83c8;\"}\n**GRAPH:**\n:::\n\n\n::: {.cell .column-page-inset-right layout-nrow=\"1\"}\n::: {.cell-output-display}\n![](line_graphs_files/figure-html/create_graph_line-1.png){width=100% height=100%}\n:::\n:::\n\n\n::::\n\n",
    "supporting": [
      "line_graphs_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}